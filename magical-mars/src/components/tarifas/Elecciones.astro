---
let minutosSeleccionados = 100;
let datosSeleccionados = 5;

// Función para manejar la selección de minutos
function handleMinutosSeleccion(minutos: number) {
    minutosSeleccionados = minutos;
}

// Función para manejar el cambio en el slider de datos
function handleDatosChange(event: Event) {
    const target = event.target as HTMLInputElement; // Aseguramos que el target sea un input
    datosSeleccionados = parseInt(target.value, 10);
}
---

<div class="max-w-md mx-auto p-6 bg-pink-100 rounded shadow">
    <h1 class="text-2xl font-bold text-center mb-4 text-pink-700">Crea tu propia tarifa</h1>
    <form class="space-y-4 text-pink-700">
        <!-- Selección de minutos -->
        <div>
            <label class="block font-bold mb-2">Minutos:</label>
            <div class="flex space-x-4">
                <button
                    type="button"
                    class={`px-4 py-2 rounded border ${minutosSeleccionados === 100 ? 'bg-pink-500 text-white' : 'bg-white text-pink-700'} hover:bg-pink-600`}
                    onClick={() => handleMinutosSeleccion(100)}
                >
                    100 minutos
                </button>
                <button
                    type="button"
                    class={`px-4 py-2 rounded border ${minutosSeleccionados === 200 ? 'bg-pink-500 text-white' : 'bg-white text-pink-700'} hover:bg-pink-600`}
                    onClick={() => handleMinutosSeleccion(200)}
                >
                    200 minutos
                </button>
                <button
                    type="button"
                    class={`px-4 py-2 rounded border ${minutosSeleccionados === 300 ? 'bg-pink-500 text-white' : 'bg-white text-pink-700'} hover:bg-pink-600`}
                    onClick={() => handleMinutosSeleccion(300)}
                >
                    300 minutos
                </button>
            </div>
        </div>

        <!-- Selección de datos -->
        <div class="flex items-center space-x-4">
            <label for="datos" class="font-bold">Datos: <span id="datos-valor">{datosSeleccionados}</span> GB</label>
            <input
                id="datos"
                type="range"
                min="5"
                max="20"
                step="5"
                value={datosSeleccionados}
                class="w-full accent-pink-500"
                oninput="document.getElementById('datos-valor').innerText = this.value; handleDatosChange(event)"
            />
        </div>

        <!-- Selección de mensajes -->
        <div>
            <label for="mensajes" class="block font-bold mb-2">Mensajes:</label>
            <select id="mensajes" name="mensajes" class="w-full p-2 border rounded mb-4">
                <option value="50">50 mensajes</option>
                <option value="100">100 mensajes</option>
                <option value="ilimitados">Ilimitados</option>
            </select>
        </div>

        <!-- Botón para enviar -->
        <div class="text-center">
            <button type="submit" class="bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition">
                Crear Tarifa
            </button>
        </div>
    </form>
</div>